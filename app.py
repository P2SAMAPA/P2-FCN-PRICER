import streamlit as st; import numpy as np; import pandas as pd; import yfinance as yf; from scipy.optimize import brentq; code = """\nimport streamlit as st\nimport numpy as np\nst.title("ðŸš€ Institutional FCN Terminal")\nt_in = st.text_input("Basket", "AMZN, ALB")\nif st.button("RUN"): \n v=np.array([0.35, 0.48]); r=0.045; dt=1/252; n_s=10000; n_d=252\n drift=(r-0.5v**2)dt; shock=vnp.sqrt(dt)\n rets=np.random.normal(drift, shock, (n_d, n_s, 2))\n paths=100np.exp(np.cumsum(rets, axis=0))\n def pricer(c):\n p=paths; wo=np.min(p, axis=2); obs=np.arange(21, 252, 21)\n pay=np.zeros(10000); act=np.ones(10000, dtype=bool); acc=np.zeros(10000); cv=(c*(1/12))*100\n for s in obs:\n acc[act]+=cv\n if s>=63:\n idx=act&(wo[s]>=100); pay[idx]=100+acc[idx]; act[idx]=False\n if np.any(act): pay[act]=np.where(wo[-1, act]>=75, 100, wo[-1, act])+acc[act]\n return np.mean(pay)np.exp(-0.045)-100\n try:\n sol=brentq(pricer, 0, 1.0)\n st.metric("ANNUAL YIELD", f"{sol100:.2f}%")\n except Exception as e: st.error(str(e))\n"""; exec(code)
