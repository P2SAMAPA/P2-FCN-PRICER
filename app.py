import streamlit as st; import numpy as np; from scipy.optimize import brentq; st.title("ðŸš€ FCN Pricing Terminal"); v = np.array([0.32, 0.48]); r = 0.045; dt = 1/252; n_s = 5000; n_d = 252; rets = np.random.normal((r - 0.5 * v**2) * dt, v * np.sqrt(dt), (n_d, n_s, 2)); paths = 100 * np.exp(np.cumsum(rets, axis=0)); wo = np.min(paths, axis=2); obs = [21, 42, 63, 84, 105, 126, 147, 168, 189, 210, 231, 252]; def p_func(c): pay = np.zeros(n_s); act = np.ones(n_s, dtype=bool); acc = np.zeros(n_s); cv = c/12 * 100; for s in obs: acc[act] += cv; idx = act & (wo[s-1] >= 100) if s >= 63 else np.zeros(n_s, dtype=bool); pay[idx] = 100 + acc[idx]; act[idx] = False; pay[act] = np.where(wo[-1, act] >= 75, 100, wo[-1, act]) + acc[act]; return np.mean(pay) * np.exp(-r) - 100; sol = brentq(p_func, 0, 0.5); st.metric("AMZN/ALB ANNUAL YIELD", f"{sol*100:.2f}%"); st.write("Model: Geometric Brownian Motion")
